<!DOCTYPE html>
<html>
<head>
  <title>DraftKings Player Scores</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script> 
  <script src="app.js"></script>
  <script src="controller.js"></script>
  <script src="services.js"></script>
  <link rel="stylesheet" href="app.css">
</head>
<body>
<div> Draft Kings Player Scores Data </div>
<div ng-app="PlayerScoresApp" ng-controller="playersController">
<div style="float: left;">
  <table class="data-table">
    <tr>
      <td><button ng-click="sortPos('QB')">QB</button></td>
      <td><button ng-disabled="1 == 0" ng-click="sortPos('RB')">RB</button></td>
      <td><button ng-click="sortPos('WR')">WR</button></td>
      <td><button ng-click="sortPos('TE')">TE</button></td>
      <td><button ng-click="sortPos('DEF')">DEF</button></td>
    </tr>
    <tr>
      <th colspan="5">
      <thread> Player Table
        <input style="float: right" type="text" ng-model="nameFilter" placeholder="Find a player..."/>
      </thread>
      </th>
    </tr>
    <tbody>
    <tr>
      <th>Player</th>
      <th>Position</th>
      <th>Team</th>
      <th>Total Points</th>
      <th>Last Week</th>
    </tr>
      <tr ng-repeat="player in filterList | startFrom:currentPage*pageSize | limitTo:pageSize" ng-click="getGameData(player)">
        <td> {{ player.name }} </td>
        <td> {{ player.position }} </td>
        <td> {{ player.team }} </td>
        <td> {{ player.total_points }} </td>
        <td> {{ player.WeekPerformances[player.WeekPerformances.length - 1].points }} </td>
      </tr>
      <tr>
        <td ng-show="pageSize == 32" ng-click="showMore()">Show more...</td>
        <td ng-show="pageSize > 32" ng-click="showLess()">Show less...</td>
      </tr>
    </tbody>
  </table>
  <button ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1">Previous</button>
    {{ currentPage+1 }}/{{ numberOfPages() }}
    <button ng-disabled="currentPage >= filterList.length/pageSize - 1" ng-click="currentPage=currentPage+1">Next</button>
  </div>
  <div style="display: inline-block;">
    <table class="data-table" ng-show="currentPlayer">
      <thread>
        <tr><th class="left-align"> {{ currentPlayer.name }}</th></tr>
        <tr><th class="left-align"> {{ currentPlayer.team }} - {{ currentPlayer.position }} </th></tr>
      </thread>
      <tbody>
        <tr>
          <th class="left-align">Week</th>
          <td ng-repeat="performance in weekPerformances"> {{ performance.week }} </td>
        </tr>
        <tr>
          <th class="left-align">Points</th>
          <td ng-repeat="performance in weekPerformances"> {{ performance.points }} </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>
